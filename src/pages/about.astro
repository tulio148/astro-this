---
import Layout from "../layouts/Layout.astro";
import SectionContainer from "../components/SectionContainer.astro";
import SectionTitle from "../components/SectionTitle.astro";
import Picture from "astro/components/Picture.astro";

// Import images
import abouthero from "../images/abouthero.avif";
import dancers from "../images/dancers.avif";
---

<Layout
  title="About Us"
  description="Learn about Dance Bloc Brazil, Perth's premier Brazilian dance studio dedicated to sharing the joy, rhythm, and spirit of samba with people of all ages and backgrounds."
>
  <div class="relative h-[65vh] flex items-center">
    <Picture
      src={dancers}
      alt=""
      class="absolute inset-0 w-full h-full object-cover z-0"
      widths={[480, 768, 1024, 1280, 1920]}
      sizes="(max-width: 768px) 480px, (max-width: 1024px) 768px, (max-width: 1280px) 1024px, 1920px"
      loading="eager"
      fetchpriority="high"
    />
    {/* Gradient Overlay */}
    <div
      class="absolute inset-0 bg-gradient-to-b from-db-green/20 to-white from-80% z-10"
    >
    </div>
  </div>

  <SectionContainer class="mt-[-100px]">
    <SectionTitle
      title="Love is samba"
      subtitle="Located in the vibrant heart of Perth, Dance Bloc Brazil is dedicated to bringing the exhilarating energy and rich cultural heritage of Brazilian samba to our community. Whether you're a seasoned dancer or a complete beginner, our school offers a welcoming and dynamic environment for everyone."
    />

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-12 items-center">
      <div>
        <h3 class="text-2xl font-bold mb-4 text-db-pink">Our Mission</h3>
        <p class="mb-6 text-slate-600 text-lg">
          At Dance Bloc Brazil, our mission is to share the joy, rhythm, and
          spirit of samba with people of all ages and backgrounds. We strive to
          create a supportive and inclusive space where students can explore the
          beauty of Brazilian dance, improve their skills, and connect with a
          passionate community.
        </p>

        <h3 class="text-2xl font-bold mb-4 text-db-pink">Our Vision</h3>
        <p class="mb-6 text-slate-600 text-lg">
          We envision a Perth where Brazilian dance is celebrated, where people
          from all walks of life come together to experience the transformative
          power of movement and music. Through our classes, performances, and
          community events, we aim to foster cultural understanding and create
          lasting connections.
        </p>
      </div>

      <div class="aspect-video rounded-2xl overflow-hidden shadow-lg">
        <div class="w-full h-full">
          <Picture
            src={abouthero}
            alt="Dance Bloc Brazil performance"
            widths={[320, 480, 640, 800, 1200]}
            sizes="(max-width: 480px) 320px, (max-width: 768px) 480px, (max-width: 1024px) 640px, 1200px"
            class="w-full h-full object-cover transition-transform duration-700 hover:scale-105"
          />
        </div>
      </div>
    </div>
  </SectionContainer>

  <SectionContainer
    class="bg-gradient-to-t from-db-green/10 to-white rounded-b-3xl"
  >
    <SectionTitle
      title="Ready to Join the Dance?"
      subtitle="Experience the joy of Brazilian dance with Dance Bloc Brazil."
    />

    <div class="mt-8">
      <a
        href="/classes"
        class="bg-db-pink hover:bg-db-light-pink text-white font-bold py-3 px-8 rounded-lg transition-colors inline-block mx-2 my-2"
      >
        View Classes
      </a>
      <a
        href="/contact"
        class="bg-white hover:bg-gray-100 text-db-pink border border-db-pink font-bold py-3 px-8 rounded-lg transition-colors inline-block mx-2 my-2"
      >
        Contact Us
      </a>
    </div>
  </SectionContainer>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Select elements to animate
      const missionContent = document.querySelector(
        ".grid.grid-cols-1.md\\:grid-cols-2"
      );
      const heroImage = document.querySelector(".aspect-video.rounded-2xl");
      const ctaButtons = document.querySelectorAll(".bg-db-pink, .bg-white");

      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add(
                "opacity-100",
                "translate-y-0",
                "transition-all",
                "duration-1000",
                "ease-out"
              );
              observer.unobserve(entry.target);
            }
          });
        },
        { threshold: 0.1 }
      );

      // Add initial opacity-0 and transform classes
      if (missionContent) {
        missionContent.classList.add("opacity-0", "translate-y-8");
        observer.observe(missionContent);
      }

      if (heroImage) {
        heroImage.classList.add("opacity-0", "translate-y-8");
        observer.observe(heroImage);
      }

      ctaButtons.forEach((el, index) => {
        el.classList.add("opacity-0", "translate-y-8");
        el.style.transitionDelay = `${index * 150}ms`;
        observer.observe(el);
      });
    });
  </script>
</Layout>
